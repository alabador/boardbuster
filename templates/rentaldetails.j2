<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>BoardBuster - Manage Rental Details</title>
    <link rel="stylesheet" href="../static/style.css">
</head>
<body>
    <header>
        {% include 'navbar.j2' %}
    </header>

    <main>
    <h1>Manage Rental Details</h1>

    <!-- Add New Rental Detail Form -->
    <form method="POST">
        <h2>Add New Rental Detail</h2>
        <label>Rental ID:</label>
        <select name="rentalID" required>
            {% for rental in rentals %}
            <option value="{{ rental.rentalID }}">{{ rental.rentalID }}</option>
            {% endfor %}
        </select>
        
        <label>Game:</label>
        <select name="gameID" required>
            {% for game in games %}
            <option value="{{ game.gameID }}">{{ game.title }} (ID: {{ game.gameID }})</option>
            {% endfor %}
        </select>
        
        <label>Rental Duration:</label>
        <input type="number" name="rentalDuration" required>
        
        <label>Rental Price:</label>
        <input type="number" step="0.01" name="rentalPrice" required>
        
        <input type="submit" value="Add Rental Detail" name="Add_RentalDetail" class="btn">
    </form>

    <!-- Rental Details Table -->
    <section class="table-container">
        <h2>Rental Details</h2>
        <table>
            <thead>
                <tr class="theader">
                    <th>Rental Detail ID</th>
                    <th>Rental ID</th>
                    <th>Game</th>
                    <th>Duration</th>
                    <th>Price</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody>
                {% for detail in rentaldetails %}
                <tr>
                    <td>{{ detail.rentalDetailID }}</td>
                    <td>{{ detail.rentalID }}</td>
                    <td>{{ detail.gameTitle }} (ID: {{ detail.gameID }})</td>
                    <td>{{ detail.rentalDuration }}</td>
                    <td>{{ detail.rentalPrice }}</td>
                    <td>
                        <a href="/edit_rentaldetail/{{ detail.rentalDetailID }}">Edit</a>
                        <a href="/delete_rentaldetail/{{ detail.rentalDetailID }}">Delete</a>
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </section>
    </main>

    <footer>
        <p>Â© 2024 Austin Labador & Vincent Le</p>
    </footer>
</body>
</html>
