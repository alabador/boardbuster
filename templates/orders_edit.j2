<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>BoardBuster - Edit Order</title>
    <link rel="stylesheet" href="../static/style.css">
</head>
<body>
    <header>

    </header>

    <h1>Edit Customer</h1>

    <table>
        {% if data %}
        <thead>
            <tr>
                <!-- Iterate through each key in the first entry to get the
                column name -->

                {% for key in data[0].keys() %}


                <!-- Create a <th> tag with the key inside of it, this will be
                our header row -->
                <th data-field="{{ key }}">{{ key }}</th>

                <!-- End of this for loop -->
                {% endfor %}

            </tr>
        </thead>
        <tbody>
            {% for customer in data %}
            <tr>
                <!-- Then iterate through every key in the current customer dictionary -->
                {% for key in customer.keys() %}
                <td>{{customer[key]}}</td>
                {% endfor %}
            </tr>
            {% endfor %}
        </tbody>
        {% endif %}
    </table>

    <form id="edit" action="/edit_customer/{{data[0].customerID}}" method="POST">
        <h2>Edit Customer</h2>
        <!-- We can preset form inputs to match attributes currently stored for 'id' of person to be updated via value= and accessing our passed data tuple -->
        <!-- Create hidden form input to store the passed 'id' of the person we are editing so we can access it easily in our 'POST' method in our app.py -->
        <input type="hidden" value="{{data[0].customerID}}" class="form-control" id="personID" name="customerID" required>
        
        <label>Name:</label> <input type="text" value="{{data[0].name}}" name="name" required>
        <label>Email:</label> <input type="email" value="{{data[0].email}}" name="email" required>
        <label>Phone:</label> <input type="text" value="{{data[0].phone}}" name="phone" required>
        
        <input type="submit" value="Edit Customer" name="Edit_Customer" class="btn">
        <a href="/customers" class='btn'>Cancel</a>
    </form>

    <footer>
        <p>Â© 2024 Austin Labador & Vincent Le</p>
    </footer>

</body>
</html>
